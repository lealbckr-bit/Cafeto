import{d as e,j as a,a as s,c as r,u as t}from"./ui-rSk7pUIX.js";import{r as l,R as i}from"./vendor-OxD-6gRK.js";import{c,a as n,C as o,B as d,L as m}from"./index-fSqFQoFi.js";import{S as x}from"./star-B8OEVntK.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=c("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),u=c("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p="Avatar",[h,j]=e(p),[g,N]=h(p),v=l.forwardRef((e,r)=>{const{__scopeAvatar:t,...i}=e,[c,n]=l.useState("idle");return a.jsx(g,{scope:t,imageLoadingStatus:c,onImageLoadingStatusChange:n,children:a.jsx(s.span,{...i,ref:r})})});v.displayName=p;var w="AvatarImage",b=l.forwardRef((e,i)=>{const{__scopeAvatar:c,src:n,onLoadingStatusChange:o=()=>{},...d}=e,m=N(w,c),x=function(e,a){const[s,r]=l.useState("idle");return t(()=>{if(!e)return void r("error");let s=!0;const t=new window.Image,l=e=>()=>{s&&r(e)};return r("loading"),t.onload=l("loaded"),t.onerror=l("error"),t.src=e,a&&(t.referrerPolicy=a),()=>{s=!1}},[e,a]),s}(n,d.referrerPolicy),f=r(e=>{o(e),m.onImageLoadingStatusChange(e)});return t(()=>{"idle"!==x&&f(x)},[x,f]),"loaded"===x?a.jsx(s.img,{...d,ref:i,src:n}):null});b.displayName=w;var y="AvatarFallback",S=l.forwardRef((e,r)=>{const{__scopeAvatar:t,delayMs:i,...c}=e,n=N(y,t),[o,d]=l.useState(void 0===i);return l.useEffect(()=>{if(void 0!==i){const e=window.setTimeout(()=>d(!0),i);return()=>window.clearTimeout(e)}},[i]),o&&"loaded"!==n.imageLoadingStatus?a.jsx(s.span,{...c,ref:r}):null});S.displayName=y;var A=v,R=b,k=S;const C=l.forwardRef(({className:e,...s},r)=>a.jsx(A,{ref:r,className:n("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...s}));C.displayName=A.displayName;const L=l.forwardRef(({className:e,...s},r)=>a.jsx(R,{ref:r,className:n("aspect-square h-full w-full",e),...s}));L.displayName=R.displayName;const T=l.forwardRef(({className:e,...s},r)=>a.jsx(k,{ref:r,className:n("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...s}));T.displayName=k.displayName;const M=l.forwardRef(({className:e,...s},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:n("w-full caption-bottom text-sm",e),...s})}));M.displayName="Table";l.forwardRef(({className:e,...s},r)=>a.jsx("thead",{ref:r,className:n("[&_tr]:border-b",e),...s})).displayName="TableHeader";const q=l.forwardRef(({className:e,...s},r)=>a.jsx("tbody",{ref:r,className:n("[&_tr:last-child]:border-0",e),...s}));q.displayName="TableBody";l.forwardRef(({className:e,...s},r)=>a.jsx("tfoot",{ref:r,className:n("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";const z=l.forwardRef(({className:e,...s},r)=>a.jsx("tr",{ref:r,className:n("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));z.displayName="TableRow";l.forwardRef(({className:e,...s},r)=>a.jsx("th",{ref:r,className:n("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s})).displayName="TableHead";const E=l.forwardRef(({className:e,...s},r)=>a.jsx("td",{ref:r,className:n("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));E.displayName="TableCell";l.forwardRef(({className:e,...s},r)=>a.jsx("caption",{ref:r,className:n("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption";const O=[{id:1,name:"Lucas Ferreira",city:"São Paulo - SP",rating:5,comment:"Perfeita para o meu setup gamer! A Dolce Gusto faz um café incrível enquanto jogo. O design combina muito bem com minha decoração. O painel LED é super prático e a pressão de 15 bar faz um café com crema perfeita. Adorei!",helpful:124,images:["/review-dolce-1-1.webp","/review-dolce-1-2.webp"],avatar:"/review-avatar-1.jpeg",lastSeen:"5 minutos",following:!1},{id:2,name:"Juliana Costa",city:"Rio de Janeiro - RJ",rating:5,comment:"Que máquina linda! Compacta, moderna e faz cafés profissionais. O painel LED é muito intuitivo e a função XL é perfeita para quem gosta de cafés maiores. A variedade de cápsulas Dolce Gusto é enorme. Estou muito satisfeita com a compra!",helpful:98,images:["/review-dolce-2-1.webp","/review-dolce-2-2.webp"],avatar:"/review-avatar-jose-carlos.png",lastSeen:"12 minutos",following:!1},{id:3,name:"Carlos Mendes",city:"Belo Horizonte - MG",rating:5,comment:"Excelente cafeteira! O modelo grafite ficou perfeito na minha cozinha. Super fácil de usar, só colocar a cápsula e apertar um botão. O café fica sempre na temperatura ideal e com aquele crema que só vemos em cafeterias. Recomendo muito!",helpful:87,images:["/review-dolce-3-1.jpeg","/review-dolce-3-2.jpeg"],avatar:"/review-avatar-3.jpg",lastSeen:"28 minutos",following:!1},{id:4,name:"Mariana Silva",city:"Curitiba - PR",rating:5,comment:"Amei minha Genio S Basic! Organizada na bancada com as cápsulas fica linda. A praticidade é incrível: café, cappuccino, chocolate, tudo em cápsulas. O reservatório de 800ml é ótimo, não precisa encher toda hora. Melhor investimento!",helpful:76,images:["/review-dolce-4-1.webp","/review-dolce-4-2.webp"],avatar:"/review-avatar-4.jpg",lastSeen:"45 minutos",following:!1},{id:5,name:"Pedro Santos",city:"Porto Alegre - RS",rating:5,comment:"Máquina top! O modelo preto ficou show na decoração. A tecnologia automática facilita muito, sempre café perfeito. A pressão de 15 bar realmente faz diferença no sabor. Sistema NESCAFÉ Dolce Gusto é garantia de qualidade. Super recomendo!",helpful:65,images:["/review-dolce-5-1.jpeg","/review-dolce-5-2.jpeg"],avatar:"/review-avatar-5.jpg",lastSeen:"1 hora",following:!1}],P=i.memo(()=>{const[e,s]=l.useState([]),[r,t]=l.useState([]),[i,c]=l.useState([]);!function(){const[e,a]=l.useState(void 0);l.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),s=()=>{a(window.innerWidth<768)};return e.addEventListener("change",s),a(window.innerWidth<768),()=>e.removeEventListener("change",s)},[])}();const n=l.useCallback(e=>{s(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},[]),p=l.useCallback(e=>{t(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},[]),h=l.useCallback(e=>{c(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])},[]);return a.jsxs("div",{id:"reviews-section",className:"px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"font-semibold",children:"Avaliações dos clientes (432)"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-lg font-bold",children:"5.0"}),a.jsx("div",{className:"flex",children:[...Array(5)].map((e,s)=>a.jsx(x,{className:"w-4 h-4 "+(s<5?"text-rating-star fill-current":"text-muted-foreground")},s))})]})]}),a.jsx("div",{className:"space-y-3",children:O.map((s,t)=>a.jsx("div",{children:a.jsx(o,{className:"p-3",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs(C,{className:"w-10 h-10 sm:w-12 sm:h-12 flex-shrink-0",children:[a.jsx(L,{src:s.avatar,alt:`Foto de perfil de ${s.name}`,className:"object-cover"}),a.jsx(T,{children:a.jsx(u,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"font-medium text-sm",children:s.name}),a.jsx("div",{className:"flex",children:[...Array(5)].map((e,r)=>a.jsx(x,{className:"w-3 h-3 "+(r<s.rating?"text-rating-star fill-current":"text-muted-foreground")},r))})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:s.city}),a.jsx("span",{children:"•"}),a.jsxs("span",{children:["publicado há ",s.lastSeen]})]})]}),a.jsx(d,{variant:e.includes(s.id)?"default":"outline",size:"sm",onClick:()=>n(s.id),className:"px-3 py-1 text-xs h-7 "+(e.includes(s.id)?"bg-buy-button hover:bg-buy-button/90 text-buy-button-foreground":""),children:e.includes(s.id)?"Seguindo":"Seguir"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("p",{className:"text-sm text-foreground/80 mb-2 "+(i.includes(s.id)?"":"line-clamp-3"),children:s.comment}),s.comment.length>150&&a.jsx("button",{onClick:()=>h(s.id),className:"text-xs text-primary font-medium hover:underline",children:i.includes(s.id)?"Ver menos":"Ver mais"})]}),"images"in s&&s.images&&s.images.length>0&&a.jsx("div",{className:"mb-2 flex gap-2 overflow-x-auto",children:s.images.map((e,s)=>a.jsx(m,{src:e,alt:`Foto do cliente ${s+1}`,className:"w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-lg border flex-shrink-0"},s))}),"image"in s&&s.image&&"string"==typeof s.image&&a.jsx("div",{className:"mb-2",children:a.jsx(m,{src:s.image,alt:"Foto do cliente",className:"w-full max-w-64 h-48 object-cover rounded-lg border"})}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(d,{variant:"ghost",size:"sm",onClick:()=>p(s.id),className:"h-7 px-2 gap-1 "+(r.includes(s.id)?"text-red-500 hover:text-red-600":"text-muted-foreground hover:text-foreground"),children:[a.jsx(f,{className:"w-4 h-4 "+(r.includes(s.id)?"fill-current":"")}),a.jsxs("span",{className:"text-xs",children:["Útil (",s.helpful,")"]})]})})]})]})})},s.id))}),a.jsx("div",{className:"mt-4 text-center",children:a.jsx(d,{variant:"outline",className:"w-full",children:"Ver mais avaliações"})}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h4",{className:"font-medium mb-3",children:"Distribuição das avaliações"}),a.jsx(M,{children:a.jsxs(q,{children:[a.jsxs(z,{children:[a.jsxs(E,{className:"flex items-center gap-2 py-2",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((e,s)=>a.jsx(x,{className:"w-3 h-3 text-rating-star fill-current"},s))}),a.jsx("span",{className:"text-sm",children:"5 estrelas"})]}),a.jsx(E,{className:"text-right py-2",children:a.jsx("span",{className:"font-medium",children:"630"})})]}),a.jsxs(z,{children:[a.jsxs(E,{className:"flex items-center gap-2 py-2",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((e,s)=>a.jsx(x,{className:"w-3 h-3 "+(s<4?"text-rating-star fill-current":"text-muted-foreground")},s))}),a.jsx("span",{className:"text-sm",children:"4 estrelas"})]}),a.jsx(E,{className:"text-right py-2",children:a.jsx("span",{className:"font-medium",children:"25"})})]}),a.jsxs(z,{children:[a.jsxs(E,{className:"flex items-center gap-2 py-2",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((e,s)=>a.jsx(x,{className:"w-3 h-3 "+(s<3?"text-rating-star fill-current":"text-muted-foreground")},s))}),a.jsx("span",{className:"text-sm",children:"3 estrelas"})]}),a.jsx(E,{className:"text-right py-2",children:a.jsx("span",{className:"font-medium",children:"10"})})]}),a.jsxs(z,{children:[a.jsxs(E,{className:"flex items-center gap-2 py-2",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((e,s)=>a.jsx(x,{className:"w-3 h-3 "+(s<2?"text-rating-star fill-current":"text-muted-foreground")},s))}),a.jsx("span",{className:"text-sm",children:"2 estrelas"})]}),a.jsx(E,{className:"text-right py-2",children:a.jsx("span",{className:"font-medium",children:"5"})})]}),a.jsxs(z,{children:[a.jsxs(E,{className:"flex items-center gap-2 py-2",children:[a.jsx("div",{className:"flex",children:[...Array(5)].map((e,s)=>a.jsx(x,{className:"w-3 h-3 "+(s<1?"text-rating-star fill-current":"text-muted-foreground")},s))}),a.jsx("span",{className:"text-sm",children:"1 estrela"})]}),a.jsx(E,{className:"text-right py-2",children:a.jsx("span",{className:"font-medium",children:"2"})})]})]})})]})]})});export{P as ReviewsSection};
